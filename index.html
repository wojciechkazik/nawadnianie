<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Systemu Nawadniania</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f6f6f6;
        }

        h2 {
            font-size: 24px;
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        form {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin: 0 auto;
            max-width: 1260px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            background-color: #f9f9f9;
        }

        input:focus, select:focus {
            border-color: #007bff;
            outline: none;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #0f4e55;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 6px;
            font-size: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            box-sizing: border-box;
        }

        button:hover {
            background-color: #093a40;
        }

        .results {
            background-color: #ffffff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .hidden {
            display: none;
        }

        .cta {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Kalkulator Systemu Nawadniania</h1>
    <label for="area">Powierzchnia ogrodu (m²):</label>
    <input type="number" id="area" min="1" placeholder="Wprowadź powierzchnię">

    <label for="pressure">Ciśnienie wody:</label>
    <select id="pressure">
        <option value="30">2 atm </option>
        <option value="20">2,5 atm </option>
        <option value="10">3 atm </option>
        <option value="0">3,5 atm </option>
        <option value="-10">4 atm </option>
    </select>

    <label for="pipe">Wydatek wody:</label>
    <select id="pipe">
        <option value="30">Rura 20 - 1,4 m³/h </option>
        <option value="10">Rura 25 - 2,5 m³/h </option>
        <option value="0">Rura 32 - 4,5 m³/h </option>
    </select>

    <label for="controller">Komputer sterujący:</label>
    <select id="controller">
        <option value="0">Wewnętrzny </option>
        <option value="200">Zewnętrzny (+200 zł)</option>
    </select>

    <label for="wifi">Sterowanie:</label>
    <select id="wifi">
        <option value="0">Bez WiFi </option>
        <option value="600">Z WiFi (+500 zł)</option>
    </select>

    <label for="sensor">Czujnik deszczu:</label>
    <select id="sensor">
        <option value="160">Standardowy </option>
        <option value="350">SolarSync (+350 zł)</option>
    </select>

    <button onclick="calculateCost()">Oblicz koszty</button>

    <div id="result" class="result" style="display: none;"></div>

    <script>
        function calculateCost() {
            const area = parseFloat(document.getElementById('area').value);
            const pressureModifier = parseFloat(document.getElementById('pressure').value);
            const pipeModifier = parseFloat(document.getElementById('pipe').value);
            const controllerCost = parseFloat(document.getElementById('controller').value);
            const wifiCost = parseFloat(document.getElementById('wifi').value);
            const sensorCost = parseFloat(document.getElementById('sensor').value);

            if (isNaN(area) || area <= 0) {
                alert("Proszę wprowadzić poprawną powierzchnię ogrodu.");
                return;
            }

            // Koszt elementów nawadniania podstawowy
            let costPerSquareMeter;
            if (area <= 100) costPerSquareMeter = 80;
            else if (area <= 200) costPerSquareMeter = 70;
            else if (area <= 300) costPerSquareMeter = 60;
            else if (area <= 500) costPerSquareMeter = 50;
            else if (area <= 1000) costPerSquareMeter = 30;
            else if (area <= 1500) costPerSquareMeter = 25;
            else if (area <= 2000) costPerSquareMeter = 20;
            else if (area <= 3000) costPerSquareMeter = 15;
            else if (area <= 4000) costPerSquareMeter = 12;
            else if (area <= 5000) costPerSquareMeter = 10;
            else if (area <= 6000) costPerSquareMeter = 8;
            else if (area <= 8000) costPerSquareMeter = 7;
            else costPerSquareMeter = 6;

            const irrigationCost = area * costPerSquareMeter;

            // Koszt sterownika
            let controllerBaseCost;
            if (area <= 200) controllerBaseCost = 350;
            else if (area <= 500) controllerBaseCost = 390;
            else if (area <= 1000) controllerBaseCost = 450;
            else if (area <= 3000) controllerBaseCost = 1200;
            else if (area <= 6000) controllerBaseCost = 3000;
            else controllerBaseCost = 4000;

            const controllerTotalCost = controllerBaseCost + wifiCost + controllerCost;

            // Koszt skrzynek elektrozaworowych
            let valveBoxCost;
            if (area <= 100) valveBoxCost = 1000;
            else if (area <= 200) valveBoxCost = 1200;
            else if (area <= 300) valveBoxCost = 1500;
            else if (area <= 500) valveBoxCost = 1800;
            else if (area <= 1000) valveBoxCost = 2200;
            else if (area <= 1500) valveBoxCost = 2500;
            else if (area <= 2000) valveBoxCost = 3000;
            else if (area <= 3000) valveBoxCost = 4000;
            else if (area <= 4000) valveBoxCost = 5000;
            else if (area <= 5000) valveBoxCost = 6000;
            else if (area <= 6000) valveBoxCost = 7000;
            else valveBoxCost = 7500;

            // Koszt robocizny
            const baseMaterialCost = irrigationCost + controllerTotalCost + valveBoxCost;
            const laborCostMin = baseMaterialCost * 0.3;
            const laborCostMax = baseMaterialCost * 0.4;

            // Modyfikatory
            const totalModifier = 1 + (pressureModifier + pipeModifier) / 100;
            const totalCost = baseMaterialCost * totalModifier;
            const laborCostMinFinal = laborCostMin * totalModifier;
            const laborCostMaxFinal = laborCostMax * totalModifier;

            const overallCostMin = totalCost + laborCostMinFinal;
            const overallCostMax = totalCost + laborCostMaxFinal;

            // Wyświetlenie wyniku
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = "block";
            resultDiv.innerHTML = `
                <strong>Podsumowanie:</strong><br>
                Koszt elementów nawadniania podstawowy: ${irrigationCost.toFixed(2)} zł<br>
                Koszt sterownika: ${controllerTotalCost.toFixed(2)} zł<br>
                Koszt skrzynek elektrozaworowych: ${valveBoxCost.toFixed(2)} zł<br>
                Koszt robocizny: od ${laborCostMinFinal.toFixed(2)} zł do ${laborCostMaxFinal.toFixed(2)} zł<br>
                <strong>Łączny koszt: od ${overallCostMin.toFixed(2)} zł do ${overallCostMax.toFixed(2)} zł</strong>
            `;
        }
    </script>
</body>
</html>
